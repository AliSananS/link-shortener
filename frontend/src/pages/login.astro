---
import Layout from '@/layouts/Layout.astro';
import AuthForm from '@/components/auth-form';
---

<Layout>
	<script>
		import type { ApiResponse } from '@shared/types';

		fetch('/api/me')
			.then((res) => res.json())
			.then((data: ApiResponse) => {
				if (data.error) {
					return;
				}

				if (data.success) {
					window.location.href = '/';
				}
			});
	</script>
	<div class="flex flex-col items-center justify-center w-full h-screen max-w-6xl">
		<AuthForm client:load />
	</div>
</Layout>
